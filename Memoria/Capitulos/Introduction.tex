\chapter{Introduction}
\label{cap:introduction}

Nowadays smartphones have become the undisputed protagonists of our daily lives. The annual report of \textit{Ditrendia} \citep{ditrendia2019informe} states that $68\%$ of the world's population (5.1 billion people) has a smartphone, while this percentage rises to $96\%$ when we talk about the Spanish population. In other words, approximately 32.6 million Spaniards surf the Internet every day with their mobile phones. 

On the other hand, it is practically impossible to imagine a smartphone that today does not have a navigation application installed. These types of applications have become indispensable tools for a world that is increasingly globalized, since they facilitate, for example, circulation in unknown cities by providing the optimal route between two points and their different alternatives: going on foot, with public transport including information such as timetables, temporary changes, etc. It is estimated that $75\%$ of Spanish users use navigation applications on a monthly basis, being the third most used utility after instant messaging and online video viewing \citep{ditrendia2019informe}.

There is no doubt about how useful it is to be able to consult the route between two points. But are these applications equally appropriate for all users, and are the needs of those with visual impairment taken into account? In Spain, 70,775 people suffer from ``legal blindness'' according to the ONCE \citep{informeceguera}. This term includes two marked and differentiated types: what is known as blindness (absence of vision or only perception of light) and visual impairment (maintenance of a remaining functional vision for daily life). In both cases, the people who suffer from them face numerous challenges in their daily lives, most of them derived from lack of information. A glance around us is enough to realize how visual most of the useful messages we use in our environment are, from reading a product label in the supermarket, to knowing if we are at the right bus stop. The same is true in the specific case of leisure and technology. Adapted books are not in abundance. In fact, according to the World Blind Union ``more than $90\%$ of published material is not accessible to blind or visually impaired people'' \citep{envision}. And the same goes for the Internet. The bulk of web pages and applications do not consider the special needs of these potential users, leaving them completely out of the picture. This is why the eyes are considered the main sensory organs, since their loss leads to a considerable reduction in autonomy derived from the lack of access to information. Sometimes this is accompanied by a second problem that many are used to dealing with: overprotection. Often family members, friends or even strangers assume that a blind person needs help without asking or waiting to be called. This frequent behavior creates helplessness in the individual instead of independence and takes away space to learn how to perform a task on their own. 

In short, the lack of accessibility is the core of many problems that affect the lives of people with legal blindness. Therefore, the answer to the two questions at the beginning of this section is no, currently there are few applications that take into account people with visual disabilities and, in particular, few navigation applications that are adapted. That is why in our thesis we wanted to address this problem, studying, for this purpose, accessible technologies that allow us to develop an indoor navigation application that provides an adapted guide for these users.

\section{Why indoor navigation?}
\label{sec:motivation}

In an urban context, the concept of navigation is well known. We are often forced to look for the location of a shop, a hospital, a friend's house or any other building. To reach our destination we look for the fastest or most convenient route. However, navigation does not end once we are inside the property, as we usually need to look for a place inside that building (the reception, the bathrooms, etc). We call the determination of the location of a particular point of interest and the guidance to it through the interior of a ``closed'' space ``indoor navigation''.

Naturally, we are all forced to move around in our daily lives. Usually it is to known places that we arrive at more or less automatically, without having to think much, since we know and memorize everything that is in those routes. However, sometimes we modify those routines, either because of temporary problems that disable the route in question or because of the need to move to a place where we had not gone before. At the same time, there is a group of buildings that we visit with some frequency and that, therefore, are familiar to us and where we are perfectly located, but sometimes we need to go to others for the first time, such as a hospital, a museum or a shopping centre. 

Often these situations awaken disorientation, discomfort and rejection in the people who experience them as they are faced with a situation of lack of control and uncertainty due to lack of knowledge. No one likes to feel lost, but when you are missing one of the five senses, and one of the most essential (sight) this becomes much harder, as there is a huge information gap. Just think about how many people cross your path, how many obstacles you overcome every day, both indoors and outdoors, how many times you cross the road to reach your destination, how many times you lean on a street name or a building sign, how many times you go down/up the stairs or wait for the elevator, or look at the number of the bus that is about to arrive... These are all examples of very daily situations that for sighted people are effortless while for visually impaired people are very challenging. 

In recent years, the outdoor navigation sector has been studied a lot, and currently there are several apps that use GPS to provide a satisfactory guide from origin to destination. This fact, together with the growing sensitivity with people who have visual disabilities and the \textit{boom} of accessible technologies, has favoured that more and more developers are interested in accessibility and promote it in this type of applications. However, we still see a clear gap in indoor navigation as it is a less explored area in general and, consequently, less adapted. Therefore, we have decided to focus our research on this sector, seeking to alleviate the discomfort that these users face in their daily lives. In order to achieve this goal, we will develop an accessible application that will guide blind people through interior spaces and that will be generic and adaptable, so that even if your particular case of study is the School of Computer Science of the Complutense University of Madrid, it can be adapted to other buildings. 


\section{Objectives}
\label{sec:objectives}
This application is part of the IDiLyCo Project (Digital Inclusion, Natural Language and Communication) of the
Software Engineering and Artificial Intelligence Department of the Computer Science School of the UCM. This project has
as an objective both to improve already existing functionalities in predecessor projects and to integrate new ones to make it a complete indoor navigation application, suitable for visually impaired people, generic and adaptable to other buildings.

The requirements to be considered for our project are divided into three main groups: those related to the guide, those related to accessibility and, finally, those that will make it a generic and adaptable application.

Regarding the guide, we will generate the optimal route that goes from the origin where we locate the user to the destination that he selects and, we will include the necessary instructions to be able to guide the user until it. To do this, we will first locate a user within the School of Computer Science using a technology that hadn't been used in previous jobs: \textit{beacons}. Next, we will adapt the space mapped by previous works and we will extend it by including the ground floor. Finally, we will debug and improve the logic in charge of generating the route, developed by previous works, and we will implement new functionalities such as generating routes that go from one floor to another or identifying if the user has gotten lost to recalculate the route. In this way, we will build a more complete and closed guide that will distinguish it from the others included in IDiLyCo.

About the adaptation made for visually impaired people, we will make a second distinction. On the one hand, we will adapt the route and the instructions so that the route is as appropriate as possible and the instructions are as precise as possible (distances in metres, location of the destination on the right or on the left, etc.), even including the possibility of providing more information about the environment (which classrooms are in its path, whether there are toilets, etc.). On the other hand, we will adapt the interface so that it is intuitive and easy to use with the help of the screen reader. To do this, we will design simple, lightly loaded screens that will include large, easy-to-locate buttons. We will also add the possibility of controlling the application by voice and adapting the instructions to appear both in writing on the screen and played aloud.

Finally, to make the application generic and adaptable, we will make the code completely independent from the specific information of the building in question. At this point, we have divided the tasks into two subgroups: those that will aim to make the guide adaptable to any building without taking into account the particular structure of the building, and those that will seek to dynamically generate the interface according to the data of the specific building. To do this, our application will read different external files in which the information will be structured following some guidelines that we will detail in order to create a model that can be followed by any building that wishes to use our indoor navigation system.

\section{Work plan}
\label{sec:workPlan}


At first, we approached our project using a user-centred design, and so we drew up a work plan that began with a meeting at the National Organization of Spanish Blind People (ONCE) in which we intended to capture the requirements of the application's end users. After this, we had a clearer idea of the type of application we wanted to develop and, above all, what kind of issues needed to be taken into account. We then did a market study that allowed us to further narrow down to focus on the area where there was the greatest gap. Once the domain, interior navigation, was delimited, we looked for technological alternatives and we decided on \textit{beacons} to introduce singularity and innovation to our project. After this, we started with the implementation of the code, always intending to evaluate it with end-users who could provide us with reliable \textit{feedback} and then include the relevant changes and repeat the process as many times as necessary until a satisfactory version of the application was achieved. However, this design and development plan has been truncated due to the crisis caused by COVID-19, since in such circumstances of confinement it has been unfeasible to raise such contact with users. Therefore, we propose the evaluation with end-users as future work and we present below the alternative carried out.

Plan B has consisted of including the necessary modifications to generalize the code so that the application can be adapted and deployed in any building. In this way, we have proceeded to create an information model from which the application can extract the necessary data to incorporate an appropriate guide to the space provided. Following this line, we propose an evaluation consisting of testing the adaptability of the app to another building (a private home) and proving that satisfactory guidance is indeed achieved inside it.


\section{Document structure}
\label{sec:documEstruc}

The project developed in the following pages has a structure which is determined by the following chapters:

\begin{itemize}
	
	\item The introduction of the project can be found in the chapters \ref{cap:introduccion} and \ref{cap:introduction}, in Spanish and English, respectively. In this introduction, the motivation (Section \ref{sec:motivation}) and objectives of the project (Section \ref{sec:objectives}) are discussed, as well as the work plan initially drawn up to fulfil these objectives (Section \ref{sec:workPlan}). Finally, Section \ref{sec:documEstruc} details the structure that the document follows.
	
	\item The context of this project is explained in Chapter \ref{cap:estadoDeLaCuestion}. Firstly, some of the existing applications in the field of navigation (both indoor and outdoor) are reviewed, paying special attention to those that are adapted or whose target users are visually impaired people (see Section \ref{sec:appGuia}). Section \ref{sec:sisPos} describes different technologies to solve the problem of positioning. Specifically, we deal with three: GPS, Wi-Fi and Bluetooth \textit{beacons}. For each of them, we will highlight the advantages and disadvantages in terms of indoor positioning. In Section \ref{sec:trabajos_previos} we summarize the two previous Bachelor's theses on which this one is based. Finally, in Section \ref{sec:conclusionesposicionamiento}, the conclusions on this chapter are detailed. Among them, we will see some of the basic characteristics that our application should have or the choice of technology used in this project to solve the problem of positioning. 
	
	\item In Chapter \ref{cap:once} we gather the notes we took during the meeting at the CTI (Tiflotechnology and Innovation Centre) of ONCE organization, where we were given a short talk on blindness and accessible technologies that have emerged to reduce the gap, and where we finally connected with potential users who told us about their tastes and needs. In Section \ref{sec:intro_reunion} the development of the interview is detailed, including the questions asked and the answers obtained (Section \ref{sub:entrevista}). The conclusions reached after the subsequent analysis of the interview are detailed in Section \ref{sec:conclu_ONCE}. 
	
	\item In Chapter \ref{cap:descripcionTrabajo} is where the specific work of our application begins. The first section, Section \ref{sec:estudioPrecisionBeacons}, deals with the first research that was done with the Bluetooth \textit{beacons}. It details the study of the accuracy of \textit{beacons} in terms of distance. Two very simple applications were implemented, \textit{miniapp} and \textit{cuadrantes\_v1}, whose functionality can be seen in detail in Sections \ref{sub:miniapp} and \ref{sub:cuadrantesv1}, respectively. Likewise, Section \ref{sub:pruebasCuadrantesv1} makes an exhaustive study of the different tests that were carried out with the application of the text of quadrants, the conclusions of which are included in Section \ref{sub:conclusiones_posicionam}. Once the technology has been analyzed and its behaviour studied, the mapping of the Computer Science School of the UCM begins in Section \ref{sec:mapeo}. It is in this section where the first approximation of the structure and implementation of the XML files in which the information regarding the building is collected is established. The detailed research on the measurements and different tests that were carried out to establish the division of the space and the final location of the \textit{beacons} is collected in Section \ref{sec:medicionesbeacons}. Finally, Section \ref{sub:mapeo_xml} exposes the structure of the mentioned XML files.
	
	\item The technical details of the application design and implementation are covered in Chapter \ref{cap:diseñoeimplementación}. Just as the application is divided into two parts, the client and the server, so is this chapter. The first part, Section \ref{sec:servidor}, explains the general operation of the server (Section \ref{sub:func_servidor}) as well as the implementation of its two main functionalities: the calculation of the optimal path (Section \ref{sub:rutaOptima}) and the generation of instructions (Section \ref{sub:genInstruc}). The second, Section \ref{sec:cliente}, focuses on the implementation and design of the mobile application. In Section \ref{sub:diseño} we review the application interface and the justification of its design, while in Section \ref{sub:func_cliente} we go into its operation from a technical point of view. Finally, in Section \ref{sec:adaptacion} we detail the relevant changes to deploy the application in a building other than the Computer Science School of the UCM.
	
	\item Chapter \ref{cap:evaluacion} details how the process of evaluation of the implementation has been carried out. Due to the impossibility of carrying out an evaluation with end-users or to test the behaviour of the application at the Computer Science School of the UCM, both the evaluation plan and the building where it was finally executed have been restructured. In the Section \ref{sec:adaptacionApp} the steps to follow are described, both in the server (Section \ref{sub:cambiosServidor_vivienda}) and in the client (Section \ref{sub:cambiosCliente_vivienda}) in order to adapt the application to another space. The Section \ref{sec:objetivosEval} details the objectives of the evaluation. The tests that were performed to assess the fulfilment of these objectives are set out in the Section \ref{sec:realizYresult} and the conclusions of the evaluation can be seen in the last section (Section \ref{sec:conclusionesEval}).
	
	\item In Chapters \ref{cap:conclusiones} and \ref{cap:conclusions}, the conclusions obtained after the realization and analysis of the project are presented, in Spanish and English respectively. The conclusions of the project can be found in Section \ref{sec:concluFinales_eng}. The results of the project objectives are detailed in Section \ref{sec:descResult_eng} (see Section \ref{sec:objectives}) and finally, Section \ref{sec:trabajoFuturo_eng} opens the project to new collaborations with different proposals for future work.
	
	\item The work carried out by each member of the working group for this project is detailed in Chapter \ref{cap:trabajoIndiv}. Section \ref{sec:trabajoBelen} describes the work done by Belén Serrano Antón, while Section \ref{sec:trabajoClara} the work done by Clara de Suso Seijas.
	
	\item Appendix \ref{Appendix:ResMediciones} shows the results of different measurements made at the Computer Science School of the UCM.
	
\end{itemize}










