\chapter{Introducción}
\label{cap:introduccion}

%\chapterquote{Frase célebre dicha por alguien inteligente}{Autor}

En la actualidad, los \textit{smartphones} se han convertido en los protagonistas indiscutibles de nuestro día a día. El informe anual de \textit{Ditrendia} \citep{ditrendia2019informe} recoge que el $68\%$ de la población mundial (5.100 millones) cuenta con un \textit{smartphone}, mientras que este porcentaje ascienden al $96\%$ cuando hablamos de la población española. Es decir, aproximadamente 32,6 millones de españoles navegan por Internet a diario con su teléfono móvil. 

Por otro lado, resulta prácticamente imposible imaginar un \textit{smartphone} que hoy en día no tenga instalada una aplicación de guía. Este tipo de aplicaciones se han convertido en herramientas indispensables para un mundo que cada vez está más globalizado, ya que facilitan, por ejemplo, la circulación por ciudades desconocidas aportando la ruta óptima entre dos puntos y sus distintas alternativas: ir a pie, con transporte público, información sobre el mismo como horarios, cambios temporales, etc. Se estima que el $75\%$ de los usuarios españoles utilizan aplicaciones de navegación mensualmente, siendo la tercera utilidad más empleada después de la mensajería instantánea y la visualización de videos online \citep{ditrendia2019informe}.

No cabe duda de lo útil que resulta poder consultar la ruta entre dos puntos. Pero, ¿estas aplicaciones son igual de apropiadas para todos los usuarios? ¿Se tienen en cuenta las necesidades de aquellas personas con discapacidad visual? En España, 70.775 personas sufren \textit{ceguera legal} según la ONCE \citep{informeceguera}. Este término engloba dos tipos marcados y diferenciados: lo que se conoce como ceguera (ausencia de visión o solo percepción de luz) y la deficiencia visual (mantenimiento de un resto de visión funcional para la vida cotidiana). En ambos casos, las personas que las padecen afrontan numerosos desafíos en su vida diaria, la mayor parte de ellos derivados de la falta de información. Un vistazo a nuestro alrededor es suficiente para darnos cuenta de cuán visuales son la mayor parte de los mensajes útiles que usamos en nuestro entorno, desde leer la etiqueta de un producto en el supermercado, hasta saber si nos encontramos en la parada de autobús correcta. De igual forma esto sucede en el caso concreto del ocio y la tecnología. No abundan los libros adaptados. De hecho, según la \textit{World Blind Union} ``más del $90\%$ del material publicado no es accesible para invidentes o personas con deficiencia visual'' \citep{envision}. E igual ocurre con Internet. El grueso de las páginas web y de las aplicaciones no consideran las necesidades especiales de estos potenciales usuarios, dejándoles completamente al margen. De ahí que los ojos sean considerados los principales órganos sensoriales, pues su pérdida conlleva una reducción considerable de autonomía derivada de la falta de acceso a la información. En ocasiones, esto viene acompañado de un segundo problema con el que muchos están acostumbrados a lidiar, el exceso de protección. A menudo, familiares, amigos o incluso desconocidos asumen que un invidente necesita ayuda sin preguntar o sin esperar a ser llamados. Este frecuente comportamiento genera impotencia en el individuo en lugar de independencia y le quita espacio para aprender a realizar una tarea por sí mismo. 

En resumen, la falta de accesibilidad es el eje central del que nacen numerosos problemas que afectan a la vida de las personas que presentan ceguera legal. Por ello, la respuesta a las dos preguntas lanzadas al comienzo de esta sección es no, actualmente son pocas las aplicaciones que tienen en cuenta a las personas que sufren discapacidad visual y, en particular, son pocas las aplicaciones de navegación que están adaptadas. Es por esto, que en nuestro trabajo de fin de grado hemos querido abordar este problema, estudiando, para ello, tecnologías accesibles que nos permitan desarrollar una aplicación de navegación por interiores que facilite una guía adaptada para estos usuarios.

%%ENLACES EMPLEADOS: (BIBLIOGRAFIA??)
%https://www.cs.cmu.edu/~jbigham/pubs/pdfs/2013/visualchallenges.pdf

%https://mktefa.ditrendia.es/hubfs/Ditrendia-Informe%20Mobile%202019.pdf?utm_campaign=Informe%20Mobile%202019&utm_source=hs_automation&utm_medium=email&utm_content=77268109&_hsenc=p2ANqtz-8Eo8k1OF_Uo0JVOqrpiBVHyPD7Lbugc_QypyPzfZtspdHwF02aN8QBLhhmuCMfG74z_MgmY-R6Bb9uz2ltHTEgFLbEXg&_hsmi=77268109

%http://www.seeof.es/archivos/articulos/adjunto_20_1.pdf

%https://www.letsenvision.com/blog/challenges-blind-people-face-when-living-life

\section{¿Por qué la navegación por interiores?}

En un contexto urbano, el concepto de la navegación es bien conocido. Con frecuencia nos vemos obligados a buscar la ubicación de una tienda, un hospital, la casa de un amigo o cualquier otro edificio. Para llegar hasta el destino buscamos la ruta más rápida o la más conveniente. Sin embargo, la navegación no finaliza una vez estamos dentro del inmueble, pues, normalmente, necesitamos buscar un lugar dentro de ese edificio (la recepción, los baños, etc). A la determinación de la ubicación de un punto concreto y a la guía hasta el mismo por el interior de un espacio ``cerrado'' lo denominamos navegación por interiores.

Como es natural, todos nos vemos obligados a desplazarnos en nuestro día a día. Normalmente suele ser a lugares conocidos a los que llegamos de una manera más o menos automática, sin tener que pensar mucho, ya que conocemos y memorizamos todo lo que hay en dichos recorridos. Sin embargo, de manera puntual modificamos dichas rutinas, ya sea por problemas temporales que inhabilitan la ruta en cuestión, como por la necesidad de desplazarnos a un lugar al que no habíamos ido antes. Paralelamente, hay un conjunto de edificios que visitamos con cierta frecuencia y que, por ende, nos resultan familiares y donde nos ubicamos perfectamente, pero en ocasiones nos surge la necesidad de ir a otros por primera vez, véase un hospital, un museo o un centro comercial. 

A menudo estas situaciones despiertan desorientación, incomodidad y rechazo en las personas que las viven ya que se encuentran frente a una situación de descontrol e incertidumbre debido a la falta de conocimiento. A nadie le gusta sentirse perdido, pero cuando te falta uno de los cinco sentidos, y uno de los más esenciales (la vista) esto se vuelve mucho más duro, ya que hay un gran vacío informativo. Basta pensar en cuántas personas se te cruzan por la calle, cuántos obstáculos sorteas a diario, tanto en interiores como en exteriores, cuántas veces cruzas la carretera para alcanzar tu destino, cuántas veces te apoyas leyendo el nombre de una calle o un cartel en un edificio, cuántas veces bajas/subes unas escaleras o esperas al ascensor, o miras el número del autobús que está por llegar... Todo esto son ejemplos de situaciones muy cotidianas que para las personas videntes no suponen ningún esfuerzo mientras que para las personas con discapacidad visual suponen un gran reto. 

En los últimos años se ha estudiado mucho el sector de la navegación por exteriores, y actualmente son varias las apps que mediante el GPS proporcionan una guía de origen a destino de manera satisfactoria. Este hecho, acompañado de la creciente sesibilización con las personas con discapacidad visual y del \textit{boom} de las tecnologías accesibles, ha favorecido que cada vez más desarrolladores se interesen por la accesibilidad y la promuevan en este tipo de aplicaciones. Sin embargo, en la navegación por interiores aún vemos un claro vacío ya que es un terreno menos explorado en general y, consecuentemente, menos adaptado. Por ello, hemos decidido centrar nuestras investigaciones en este sector, buscando paliar el malestar al que estos usuarios se enfrentan en su día a día. Para la consecución de este fin, desarrollaremos una aplicación accesible que sirva de guía a invidentes por espacios interiores y que tenga carácter genérico y adaptable, de manera que aunque su caso particular de estudio sea la Facultad de Informática de la Universidad Complutense de Madrid pueda adaptarse a otros edificios. 


\section{Objetivos}
\label{sec:objetivosProyecto}

Esta aplicación se enmarca dentro del Proyecto IDiLyCo (Inclusión Digital, Lenguaje Natural y Comunicación) del Departamento de
Ingeniería del Software e Inteligencia Artificial de la Facultad de Informática de la UCM y tiene
como objetivo tanto mejorar funcionalidades ya existentes en proyectos predecesores como integrar otras nuevas que hagan de ella una aplicación de navegación por interiores completa adecuada para personas con discapacidad visual genérica y adaptable a otros edificios.

Los requisitos a tener en cuenta para nuestro proyecto se dividen en tres grandes grupos: aquellos relativos a la guía, los que a la adaptabilidad se refieren y, por último, los que harán de ella una app genérica y adaptable.

Con respecto a la guía, nos encargaremos en primera instancia de localizar a un individuo en la Facultad de Informática utilizando para ello una tecnología novedosa respecto a trabajos anteriores: los \textit{beacons}. De esta manera aportaremos una diferencia significativa a nuestro proyecto que lo distinguirá de los otros incluidos en IDiLyCo. A continuación, adaptaremos el espacio mapeado por trabajos anteriores y lo ampliaremos incluyendo la planta baja y, finalmente, conectaremos las plantas entre sí para añadir la funcionalidad de guiar a un usuario hasta un destino que se encuentre en una planta distinta a al suya. Por último, incluiremos la funcionalidad de identificar si el usuario se ha perdido y recalcular la ruta.

En lo relativo a la adaptabilidad a usuarios que presentan discapacidad visual haremos una segunda distinción. Por un lado adaptaremos la ruta y las instrucciones de modo que el camino sea lo más adecuado posible y las instrucciones sean cuanto más precisas mejor (distancias en metros, ubicación del destino a la derecha o a la izquierda, etc.), incluyendo incluso la posibilidad de proporcionar más información sobre el entorno (qué aulas se encuentra a su paso, si hay baños, etc.) si el usuario lo desea. Por otro lado, adaptaremos la interfaz de manera que sea intuitiva y fácil de utilizar con ayuda del lector de pantalla. Para ello, diseñaremos pantallas sencillas y poco cargadas que incluirán botones grandes y fáciles de ubicar. También añadiremos la posibilidad de controlar la aplicación mediante voz y adaptaremos las instrucciones para que aparezcan tanto por escrito en la pantalla como reproducidas en voz alta.

Finalmente, para conseguir que la app sea genérica y adaptable haremos que el código sea completamente independiente de la información concreta del edificio en cuestión. En este punto hemos dividido las tareas en dos subgrupos, las que tendrán como objetivo que la guía se adapte a cualquier edificio sin tener en cuenta la estructura particular del mismo y las que buscarán que la interfaz se genere dinámicamente de acuerdo con los datos del edificio concreto. Para ello nuestra aplicación leerá distintos archivos en los que se estructurará la información siguiendo unas pautas que detallaremos con el fin de crear un modelo que pueda ser seguido por cualquier edificio que desee incorporar nuestra guía.

\section{Plan de trabajo}
\label{sec:planTrabajo}

En un primer momento planteamos nuestro TFG como un diseño centrado en el usuario por ello trazamos un plan de trabajo que comenzaba con una reunión en la ONCE en la que pretendíamos capturar los requisitos. Tras esto nos hicimos una idea más clara del tipo de aplicación que queríamos desarrollar y, sobre todo, del tipo que era más necesario. Entonces, hicimos un estudio de mercado que nos permitió seguir acotando para centrarnos en el campo que hubía un mayor vacío. Una vez encontrado el tema, la navegación por interiores, buscamos las alternativas tecnológicas y nos decantamos por los \textit{beacons} para introducir singularidad e innovación a nuestro proyecto. Tras esto, comenzamos con la implementación del código teniendo siempre como objetivo su posterior evaluación en usuarios finales que nos pudiese aportar un \textit{feedback} fiable para después incluir los cambios pertinentes y repetir el proceso las veces necesarias hasta alcanzar una versión satisfactoria de la aplicación. Sin embargo este plan de evaluación se ha visto truncado a causa de la crisis provocada por la COVID-19 ya que en tales circunstancias de confinamiento ha sido inviable plantear tal contacto con usuarios. Por ello, proponemos la evaluación con usuarios finales como trabajo futuro y exponemos a continuación la alternativa realizada.

El plan B consiste en incluir las modificaciones necesarias para otorgar el carácter genérico al código de modo que permita a la app adaptarse y funcionar en otros edificios. De esta manera, hemos procedido creando un modelo de información del que la aplicación pueda extraer los datos necesarios para incorporar una guía adecuada al espacio proporcionado. Siguiendo esta línea se propone una evaluación consistente en probar la adaptabilidad de la app en otro edificio (una vivienda particular) y probar que efectivamente se alcanza una guía satisfactoria en su interior.



\section{Estructura del documento}

El proyecto que se desarrolla en las páginas que siguen guarda una estructura clara, que viene determinada por capítulos:

\begin{itemize}
	\item En el Capítulo \ref{cap:estadoDeLaCuestion} se expone el contexto en el que se enmarca este Trabajo de Fin de Grado. En primer lugar, se revisan algunas de las aplicaciones existentes en el ámbito de la navegación (tanto por interiores como por exteriores), prestando especial atención a aquellas que están adaptadas o cuyos usuarios objetivo son personas con discapacidad visual (ver Sección \ref{sec:appGuia}). Por su parte, la Sección \ref{sec:sisPos} describe distintas tecnologías para resolver el problema del posicionamiento. En concreto tratamos tres: GPS, Wi-Fi y balizas Bluetooth. De cada una de ellas destacaremos sus ventajas e inconvenientes en cuanto al posicionamiento en interiores se refiere. En la Sección \ref{sec:trabajos_previos} se resumen los dos Trabajos de Fin de Grado previos sobre los que se apoya este. Por último, en la Sección \ref{sec:conclusionesposicionamiento} se detallan las conclusiones sobre este capítulo. Entre ellas veremos algunas de las características básicas con las que debe contar nuestra aplicación o la elección de la tecnología empleada en este proyecto para resolver el problema del posicionamiento. 

	\item En el Capítulo \ref{cap:once} recogemos las notas que tomamos durante la reunión en el CTI (Centro de Tiflotecnología e Innovación) de la ONCE, donde nos dieron una pequeña charla sobre la ceguera y las tecnologías accesibles que han surgido para reducir la brecha, y en la que finalmente conectamos con potenciales usuarios que nos hablaron sobre sus gustos y necesidades. En la Sección \ref{sec:intro_reunion} se detalla el desarrollo de la misma, incluyendo las preguntas realizadas, las respuestas obtenidas durante la entrevista (Sección \ref{sub:entrevista}). Las conclusiones a las que se llegaron tras el posterior análisis de la misma se detallan en la Sección \ref{sec:conclu_ONCE}. 

	\item En el Capítulo \ref{cap:descripcionTrabajo} donde comienza el trabajo específico de nuestra aplicación. La primera sección, Sección \ref{sec:estudioPrecisionBeacons}, aborda la primera investigación que se realizó con las balizas Bluetooth o \textit{beacons}. En ella se detalla el estudio de la precisión de los \textit{beacons} en cuanto a distancia se refiere. Para ello se implementaron dos aplicaciones muy sencillas, \textit{miniapp} y \textit{cuadrantes\_v1}, cuya funcionalidad puede verse en detalle en las Secciones \ref{sub:miniapp} y \ref{sub:cuadrantesv1}, respectivamente. Así mismo, en la Sección \ref{sub:pruebasCuadrantesv1} se hace un estudio exhaustivo de las distintas pruebas que se realizaron con la aplicación \textit{cuadrantes\_v1} y cuyas conclusiones se recogen en la Sección \ref{sub:conclusiones_posicionam}. Una vez analizada la tecnología y estudiado su comportamiento, comienza el mapeo de la Facultad de Informática de la UCM en la Sección \ref{sec:mapeo}. Es en esta sección donde se establece la primera aproximación de la estructura e implementación de los archivos XML en los cuales se recoge la información referente al edificio. La investigación detallada sobre las mediciones y distintas pruebas que se llevaron a cabo para establecer la división del espacio y la ubicación final de los \textit{beacons} se recoge en la Sección \ref{sec:medicionesbeacons}. Por último, la Sección \ref{sub:mapeo_xml} expone la estructura de los mencionados archivos XML.

	\item En el Capítulo \ref{cap:diseñoeimplementación} se abordan los detalles técnicos sobre el diseño e implementación de la aplicación. Al igual que la aplicación se divide en dos partes, el cliente y el servidor, este capítulo también. La primera parte, Sección \ref{sec:servidor}, expone el funcionamiento general del servidor (Sección \ref{sub:func_servidor}) así como la implementación de sus dos funcionalidades principales: el cálculo de la ruta óptima (Sección \ref{sub:rutaOptima}) y la generación de instrucciones (Sección \ref{sub:genInstruc}). La segunda, Sección \ref{sec:cliente}, se centra en la implementación y el diseño de la aplicación móvil. En la Sección \ref{sub:diseño} revisamos la interfaz de la aplicación y la justificación de su diseño, mientras que en la Sección \ref{sub:func_cliente} nos adentramos en su funcionamiento desde el punto de vista técnico. Por último, en la Sección \ref{sec:adaptacion} se detallan los cambios pertinentes para desplegar la aplicación en un edificio distinto a la Facultad de Informática de la UCM.

	\item En el Capítulo \ref{cap:evaluacion} se detalla cómo se ha llevado a cabo el proceso de evaluación de la aplicación. Debido a la imposibilidad de realizar una evaluación con usuarios o \textit{testear} el comportamiento de la aplicación en la Facultad de Informática de la UCM, se ha reestructurado tanto el plan de evaluación como el edificio donde se llevó finalmente a cabo. En la Sección \ref{sec:adaptacionApp} se describen los pasos a seguir, tanto en el servidor (Sección \ref{sub:cambiosServidor_vivienda}) como en el cliente (Sección \ref{sub:cambiosCliente_vivienda}) para poder adaptar la aplicación a otro espacio. Por su parte, la Sección \ref{sec:objetivosEval} detalla los objetivos de la evaluación. Las pruebas que se llevaron a cabo a fin de valorar el cumplimiento de estos objetivos se expone en la Sección \ref{sec:realizYresult} y las conclusiones finales de la evaluación pueden verse en la última sección (Sección \ref{sec:conclusionesEval}).

	\item En el Capítulo \ref{cap:trabajoIndiv} se detalla el trabajo realizado por cada integrante del grupo de trabajo de este proyecto. En la Sección \ref{sec:trabajoBelen} se expone el trabajo realizado por Belén Serrano Antón, mientras que la Sección \ref{sec:trabajoClara} expone el de Clara de Suso Seijas.

	\item En el Capítulo \ref{cap:conclusiones} se recogen las conclusiones obtenidas tras la realización y análisis del proyecto. En la Sección \ref{sec:descResult} se detallan los resultados de los objetivos del proyecto (ver Sección \ref{sec:objetivosProyecto}). En la Sección \ref{sec:concluFinales} pueden verse las conclusiones finales del proyecto y, por último, en la Sección \ref{sec:trabajoFuturo} se abre el proyecto a nuevas colaboraciones con diferentes propuestas para trabajo futuro.

	\item En el Apéndice \ref{Appendix:ResMediciones} se muestran los resultados de distintas mediciones realizadas en la Facultad de Informática de la UCM.

\end{itemize}